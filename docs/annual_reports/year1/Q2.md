# 애니메이션 파일 정리 애플리케이션 - 1년차 2분기 개발 계획

## 개발 목표
1년차 2분기는 기본 프로젝트 구조를 확립하고 초기 프로토타입 개발에 집중합니다.

> **중요**: 모든 개발 단계에서 변경사항 적용 후 프로그램을 실행하여 기능이 정상적으로 작동하는지 확인해야 합니다. 어떤 변경이든 전체 시스템 안정성을 훼손해서는 안 됩니다.

## 주요 작업 항목

### 기본 프로젝트 구조 확립
- [x] 폴더 구조 및 모듈화 설계 구현
  - 핵심 모듈 분리 (core, ui, data, api, utils)
  - 패키지 초기화 파일 구성
  - 설정 파일 관리 구조 설계
- [x] 버전 관리 시스템 설정 및 초기화
  - Git 저장소 설정
  - .gitignore 파일 구성
  - 브랜칭 전략 및 워크플로우 정의
- [x] 개발 환경 구성 및 필수 라이브러리 설치
  - 가상 환경 설정
  - requirements.txt 파일 작성
  - 개발/테스트/배포 환경 분리
- [x] 코딩 스타일 가이드 및 규칙 수립
  - PEP8 스타일 가이드 채택
  - 문서화 규칙 (docstring 형식)
  - 코드 리뷰 체크리스트 작성

### 데이터베이스 스키마 설계
- [x] 핵심 엔티티 정의 (시리즈, 에피소드, 파일, 시청 기록 등)
  - Series 모델 상세 명세
  - Episode 모델 상세 명세
  - File 모델 상세 명세
  - WatchHistory 모델 상세 명세
  - 메타데이터 관련 모델 상세 명세
- [x] 관계 모델링 및 ERD 작성
  - 모델 간 관계 정의 (일대다, 다대다 등)
  - 인덱싱 전략 수립
  - 무결성 제약 조건 정의
- [x] SQLite 데이터베이스 초기화 스크립트 작성
  - 스키마 생성 스크립트
  - 기본 데이터 삽입 스크립트
  - 업그레이드 경로 정의
- [x] SQLAlchemy ORM 모델 클래스 설계
  - Base 클래스 정의
  - 모델별 ORM 클래스 구현
  - 관계 속성 정의
  - 유틸리티 메서드 구현

### ED2K 해시 계산 알고리즘 프로토타입 개발
- [x] 기본 해시 계산 함수 구현
  - ED2K 해시 알고리즘 코어 구현
  - 입력 검증 및 예외 처리
  - 메모리 효율적인 청크 처리
- [x] 대용량 파일 처리 최적화
  - 청크 기반 파일 읽기 구현
  - 버퍼 크기 최적화
  - I/O 병목현상 최소화 전략
- [x] 멀티스레딩 구현을 통한 성능 향상
  - 스레드 풀 구현
  - 청크별 병렬 처리 로직
  - 결과 병합 메커니즘
- [x] 해시 계산 진행 상황 모니터링 기능
  - 진행률 계산 알고리즘
  - 콜백 인터페이스 설계
  - 취소 메커니즘 구현

### AniDB UDP API 연동 설계
- [x] AniDB UDP API 문서 분석 및 요구사항 정리
  - 주요 API 엔드포인트 정리
  - 요청/응답 포맷 문서화
  - 에러 코드 및 처리 방법 정의
- [x] 클라이언트 인증 메커니즘 설계
  - 사용자 인증 프로세스 구현
  - 세션 키 관리 로직
  - 재인증 메커니즘
- [x] 기본 API 통신 클래스 구현 (연결, 인증, 요청, 응답 처리)
  - UDP 통신 래퍼 클래스
  - 요청 형식 생성기
  - 응답 파서
  - 타임아웃 및 재시도 메커니즘
- [x] 세션 관리 및 Rate Limit 관리 로직 설계
  - 요청 큐 구현
  - 요청 간격 제어 메커니즘
  - 백오프 전략 구현
  - 세션 만료 처리

### 기본 GUI 프레임워크 초기 설계
- [x] PySide6 기본 윈도우 및 레이아웃 설계
  - 메인 윈도우 클래스 구현
  - 레이아웃 관리자 설계
  - 반응형 레이아웃 구현
- [x] 핵심 UI 컴포넌트 프로토타입 구현
  - 파일 브라우저 컴포넌트
  - 메타데이터 표시 컴포넌트
  - 진행 상태 표시 컴포넌트
  - 설정 패널 컴포넌트
- [x] 스타일 및 테마 기본 설정
  - 기본 스타일시트 구현
  - 다크/라이트 모드 지원
  - 사용자 정의 테마 인프라 설계
- [x] 기본 설정 화면 설계
  - 설정 카테고리 정의
  - 설정 저장/로드 메커니즘
  - 기본값 및 검증 로직

## 예상 결과물
- 기본 프로젝트 구조 및 개발 환경 (폴더 구조, 가상 환경, git 설정)
- 데이터베이스 스키마 및 ORM 모델 (완전한 ERD 및 SQLAlchemy 클래스)
- ED2K 해시 계산 프로토타입 (멀티스레딩 지원, 성능 테스트 결과)
- AniDB 연동 기본 클래스 (인증, 파일 매칭, 메타데이터 검색 기능)
- 초기 GUI 프로토타입 (기본 레이아웃 및 핵심 컴포넌트)
- 단위 테스트 스위트 (각 모듈별 최소 80% 커버리지)

## 위험 요소 및 대응 계획
- **위험**: AniDB API 제한 및 차단 이슈
  - **대응**: 요청 큐 및 지연 메커니즘, 캐싱 전략 수립
  - **검증 방법**: 24시간 연속 API 사용 시뮬레이션 테스트
- **위험**: 데이터베이스 스키마 설계 불완전성
  - **대응**: 변경 가능한 유연한 설계 및 마이그레이션 계획 수립
  - **검증 방법**: 다양한 시나리오에 대한 데이터 모델링 검증
- **위험**: 멀티스레딩 관련 경쟁 조건 및 동기화 문제
  - **대응**: 스레드 안전 설계 패턴 적용 및 철저한 테스트
  - **검증 방법**: 스트레스 테스트 및 경쟁 조건 시뮬레이션

## 마일스톤
- **주 4**: 프로젝트 구조 및 개발 환경 설정 완료
- **주 6**: 데이터베이스 스키마 및 ORM 모델 구현 완료
- **주 8**: ED2K 해시 계산 알고리즘 프로토타입 완성
- **주 10**: AniDB UDP API 연동 기본 기능 구현
- **주 12**: 기본 GUI 프레임워크 프로토타입 완성 및 2분기 통합 테스트 