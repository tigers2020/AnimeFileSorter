# 애니메이션 파일 정리 애플리케이션 - 프로젝트 비전

## 개요

AnimeFileSorter는 애니메이션 파일을 효율적으로 정리하고 관리하기 위한 종합 솔루션입니다. 이 애플리케이션은 대량의 미디어 파일을 자동으로 인식하고, 메타데이터를 수집하며, 일관된 명명 규칙에 따라 정리하는 기능을 제공합니다.

## 프로젝트 범위 및 핵심 목표

### 애니메이션 파일 정리 기능

- **파일 식별**: 다양한 소스에서 가져온 애니메이션 파일을 자동으로 식별
- **메타데이터 추출**: 파일명, 해시값, 비디오 정보 등에서 기본 정보 추출
- **자동 분류**: 애니메이션 시리즈, 시즌, 에피소드 등에 따라 파일 자동 분류
- **일괄 이름 변경**: 사용자 정의 규칙에 따라 파일 및 폴더 이름 일괄 변경
- **중복 파일 관리**: 중복 파일 탐지 및 관리 기능 제공

### 메타데이터 통합 범위

- **온라인 데이터베이스 연동**: AniDB, TheTVDB, MyAnimeList 등의 외부 데이터베이스 활용
- **로컬 데이터베이스 구축**: 수집된 메타데이터를 로컬에 저장하여 빠른 검색 및 참조 가능
- **사용자 메타데이터 지원**: 사용자 정의 태그, 평점, 메모 등 추가 정보 관리
- **외부 포맷 호환성**: NFO 파일, XML 등 외부 포맷과의 호환성 지원

### 사용자 편의성 목표

- **직관적인 UI**: 복잡한 기능을 쉽게 사용할 수 있는 직관적인 사용자 인터페이스 제공
- **자동화 기능**: 최소한의 사용자 개입으로 반복 작업 자동화
- **유연한 커스터마이징**: 사용자별 워크플로우에 맞춘 설정 옵션 제공
- **실시간 모니터링**: 지정된 폴더를 실시간으로 모니터링하여 새 파일 자동 처리
- **성능 최적화**: 대용량 라이브러리 처리에도 원활한 성능 유지

## 주요 기능 요구사항

### 파일 감지 및 식별 요구사항

- 다양한 비디오 형식(MP4, MKV, AVI 등) 지원
- 해시 기반 파일 식별 기능(ED2K, CRC32 등)
- 파일명 패턴 분석을 통한 시리즈/에피소드 정보 추출
- 비디오 메타데이터(해상도, 코덱, 길이) 추출
- 압축 파일 내 콘텐츠 식별 기능

### 메타데이터 수집 요구사항

- AniDB UDP/HTTP API 연동
- 오프라인 상태에서도 사용 가능한 로컬 캐싱
- 여러 소스에서 수집한 메타데이터 통합
- 다국어 메타데이터 지원(제목, 줄거리 등)
- 포스터, 배경 이미지 등 아트워크 수집 및 관리

### 파일 정리 및 이름 변경 요구사항

- 사용자 정의 이름 형식 템플릿 지원
- 시리즈별/시즌별 폴더 구조 자동 생성
- 특수문자 및 비호환 문자 자동 처리
- 일괄 작업 및 개별 파일 처리 모두 지원
- 작업 전 미리보기 및 변경 취소 기능

### 사용자 인터페이스 요구사항

- 모던하고 직관적인 GUI
- 목록 및 그리드 뷰 보기 모드
- 필터링 및 검색 기능
- 다크/라이트 테마 지원
- 드래그 앤 드롭으로 파일 추가
- 진행 상황 시각화 및 알림

## 사용자 페르소나

### 주 사용자 1: 애니메이션 수집가 "김준호"

- **프로필**: 30대 초반, IT 전문가, 10년 이상의 애니메이션 콜렉션 보유
- **니즈**: 
  - 대량의 파일(1000+ 에피소드)을 효율적으로 정리
  - 정확한 메타데이터로 완벽한 라이브러리 구축
  - 자동화된 파일 관리 워크플로우
- **주요 사용 시나리오**:
  - 새로운 애니메이션 시리즈 일괄 처리
  - 메타데이터 불일치 수동 해결
  - 중복 및 저품질 파일 식별/대체

### 주 사용자 2: 애니메이션 시청자 "이민지"

- **프로필**: 20대 중반, 학생, 선별적인 애니메이션 시청
- **니즈**:
  - 간단한 인터페이스로 쉽게 파일 정리
  - 미디어 플레이어와 통합된 경험
  - 최소한의 설정으로 빠른 결과
- **주요 사용 시나리오**:
  - 시청 중인 시리즈 자동 정리
  - 기본 설정으로 신규 다운로드 처리
  - 시리즈 정보 빠른 확인

## 핵심 사용 시나리오

1. **신규 애니메이션 파일 자동 감지**
   - 사용자가 지정한 폴더에 새 파일이 추가되면 자동 감지
   - 파일 형식 확인 및 초기 메타데이터 추출
   - 사용자에게 감지된 파일 알림

2. **메타데이터 자동 수집**
   - 파일 해시 또는 이름 기반으로 외부 DB 조회
   - 관련 정보(제목, 에피소드, 시즌 등) 자동 매핑
   - 수집된 메타데이터 로컬 저장

3. **사용자 정의 규칙에 따른 파일 이름 변경**
   - 템플릿 기반 이름 형식 적용
   - 변경 전/후 미리보기 제공
   - 일괄 또는 선택적 적용

4. **파일 구조 재조직**
   - 시리즈/시즌별 폴더 구조 생성
   - 관련 파일(자막, 썸네일 등) 함께 이동
   - 기존 구조 백업 옵션

5. **중복 파일 감지 및 처리**
   - 해시 기반 중복 파일 식별
   - 품질 비교 및 최적 버전 추천
   - 중복 파일 보관/삭제 옵션

6. **대용량 라이브러리 일괄 처리**
   - 전체 라이브러리 스캔 및 분석
   - 배치 작업으로 대용량 처리
   - 진행 상황 및 결과 리포트

7. **메타데이터 수동 편집**
   - 자동 매칭 실패 시 수동 정보 입력
   - 여러 파일의 메타데이터 일괄 편집
   - 사용자 정의 태그 및 노트 추가

8. **미디어 서버 통합**
   - Plex, Jellyfin 등과 호환되는 구조로 정리
   - 필요한 부가 파일(NFO, 포스터 등) 생성
   - 미디어 서버 라이브러리 스캔 트리거

9. **정기 라이브러리 유지보수**
   - 주기적인 메타데이터 업데이트 확인
   - 깨진 링크 및 누락 파일 식별
   - 라이브러리 상태 리포트 생성

10. **백업 및 복원**
    - 라이브러리 설정 및 메타데이터 백업
    - 다른 시스템으로 설정 이전
    - 작업 취소 및 이전 상태 복원

## 기술적 제약조건 및 비기능적 요구사항

### 성능 요구사항
- 1000개 이상의 파일 처리 시 적정 응답 시간 유지
- 대용량 파일(10GB+) 해시 계산 최적화
- 메모리 사용량 최적화(8GB RAM 이하 시스템 지원)
- 멀티스레딩을 통한 병렬 처리

### 안정성 및 오류 처리 요구사항
- 작업 중 충돌 시 자동 복구 메커니즘
- 모든 파일 작업에 대한 롤백 기능
- 상세한 오류 로깅 및 진단 정보
- 네트워크 연결 오류 시 그레이스풀 디그레이데이션

### 확장성 요구사항
- 플러그인 아키텍처로 새로운 메타데이터 소스 추가 가능
- 사용자 정의 스크립트 지원
- API 제공으로 다른 도구와 통합 가능
- 국제화 및 지역화 지원 